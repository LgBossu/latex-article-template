% Custom commands for algebra
% depends on:
% - `stackengine` for \stackMath, \savestack, \stretchto, \scaleto, \scalerel, \stackon, imported in `imports/math_fancy.tex`

% Really wide hat
\stackMath
\newcommand\reallywidehat[1]{%
\savestack{\tmpbox}{\stretchto{%
  \scaleto{%
    \scalerel*[\widthof{\ensuremath{#1}}]{\kern.1pt\mathchar"0362\kern.1pt}%
    {\rule{0ex}{\textheight}}%WIDTH-LIMITED CIRCUMFLEX
  }{\textheight}% 
}{2.4ex}}%
\stackon[-6.9pt]{#1}{\tmpbox}%
}